<section class="container" data-ng-controller="UserPasswordClientController">
	<div class="row">
		<h3 class="text-center">{{user_profile.displayName}}</h3>
	</div>
	<div class="row">
		<div class="col-xs-offset-1 col-xs-10 col-md-offset-4 col-md-4">
			<form name="passwordForm" role="form" data-ng-submit="changePassword(passwordForm.$valid)" class="signin" novalidate>
				<fieldset>
					<div class="form-group" show-errors>
						<label for="currentPassword">{{'CURRENT_PASSWORD' | translate}}</label>
						<input type="password" id="currentPassword" name="currentPassword" class="form-control segment" ng-model="passwordDetails.currentPassword" placeholder="{{'CURRENT_PASSWORD' | translate}}" required>
						<div ng-messages="passwordForm.currentPassword.$error" role="alert">
							<p class="help-block error-text" ng-message="required">{{'CURRENT_PASSWORD_REQUIRED' | translate}}</p>
						</div>
					</div>
					<div class="form-group" show-errors>
						<label for="newPassword">{{'NEW_PASSWORD' | translate}}</label>
						<input type="password" id="newPassword" name="newPassword" class="form-control segment" ng-model="passwordDetails.newPassword" placeholder="{{'NEW_PASSWORD' | translate}}" uib-popover-trigger="focus" password-validator required>
						<div ng-messages="passwordForm.newPassword.$error" role="alert">
							<p class="help-block error-text" ng-message="required">{{'ENTER_NEW_PASSWORD' | translate}}</p>
							<div ng-repeat="passwordError in passwordErrors">
								<p class="help-block error-text" ng-show="passwordForm.newPassword.$error.requirements">{{passwordError}}</p>
							</div>
						</div>
					</div>
					<div class="form-group" show-errors>
						<label for="verifyPassword">{{'VERIFY_PASSWORD' | translate}}</label>
						<input type="password" id="verifyPassword" name="verifyPassword" class="form-control segment" ng-model="passwordDetails.verifyPassword" placeholder="{{'VERIFY_PASSWORD' | translate}}" password-verify="passwordDetails.newPassword" required>
						<div ng-messages="passwordForm.verifyPassword.$error" role="alert">
							<p class="help-block error-text" ng-message="required">{{'VERIFY_NEW_PASSWORD' | translate}}</p>
							<p class="help-block error-text" ng-show="passwordForm.verifyPassword.$error.passwordVerify">{{'PASSWORD_DO_NOT_MATCH' | translate}}</p>
						</div>
					</div>
					<div class="form-group" ng-show="!passwordForm.newPassword.$error.required">
						<label>{{'PASSWORD_REQUIREMENTS' | translate}}</label>
						<uib-progressbar value="requirementsProgress" type="{{requirementsColor}}"><span style="color:white; white-space:nowrap;">{{requirementsProgress}}%</span></uib-progressbar>
					</div>
					<div class="text-center form-group">
						<button type="submit" class="btn btn-primary segment">{{'SAVE_PASSWORD' | translate}}</button>
					</div>					
				</fieldset>
			</form>
		</div>
	</div>
</section>